# ADR 001: Выбор Inngest для обеспечения надежности исполнения воркфлоу

## Статус
Принято

## Контекст
Платформа Corallum Enterprise предназначена для автоматизации критически важных бизнес-процессов. Традиционные подходы к выполнению воркфлоу через простые HTTP-запросы или локальные очереди (например, BullMQ без сложной настройки) не обеспечивают достаточной устойчивости к сбоям инфраструктуры, таймаутам LLM и необходимости длительного ожидания (Durable Execution).

## Решение
Использовать **Inngest** в качестве основного движка для оркестрации и выполнения воркфлоу.

## Обоснование
1.  **Durable Execution**: Inngest позволяет приостанавливать и возобновлять выполнение функций, сохраняя состояние между шагами. Это критично для интеграций с LLM, которые могут занимать значительное время.
2.  **Automatic Retries**: Встроенный механизм повторных попыток с экспоненциальной задержкой минимизирует влияние временных сбоев внешних API.
3.  **Event-Driven Architecture**: Позволяет легко масштабировать систему, разделяя триггеры воркфлоу и их непосредственное исполнение.
4.  **Observability**: Нативная поддержка мониторинга каждого шага воркфлоу "из коробки".

## Последствия
*   **Положительные**: Гарантированное выполнение воркфлоу (99.9% uptime), прозрачность процессов для Enterprise-клиентов.
*   **Отрицательные**: Зависимость от внешнего сервиса Inngest (или необходимость развертывания self-hosted версии).
